# ログ出力制御

## 概要
標準出力のログが多すぎると処理速度が大幅に低下します。
このため、詳細ログのオン/オフをトグルで切り替えられるようにしました。

## 使い方

### UIでのトグル切り替え
1. 「連鎖生成」モードに切り替え
2. 「詳細ログ出力」チェックボックスをON/OFF
   - **OFF（デフォルト）**: 標準出力を抑制して高速化
   - **ON**: 標準出力に詳細ログを出力（デバッグ用）

### コード内での使い方

詳細ログを出力したい箇所で、`println!`の代わりに`vlog!`マクロを使用します：

```rust
// 従来のprintln!（常に出力される）
println!("[頭伸ばし] 削除前の連鎖数={}", chain_count);

// vlog!マクロ（チェックボックスOFFの時は出力されない）
vlog!("[頭伸ばし] 削除前の連鎖数={}", chain_count);
```

### マクロのインポート

`vlog!`マクロを使用するファイルでは、以下のインポートを追加します：

```rust
use crate::vlog;
```

### 置き換え推奨箇所

以下のファイルの`println!`を`vlog!`に置き換えると、パフォーマンスが大幅に向上します：

- **最優先**: 
  - `src/chain/detector.rs` (38箇所)
  - `src/chain/beam.rs` (27箇所)
  - `src/app/ui.rs` (29箇所)
  
- **次点**:
  - `src/chain/generator.rs` (7箇所)

### 実装状況

- ✅ グローバルログフラグ追加 (`src/logging.rs`)
- ✅ UIトグルボタン追加
- ⏳ `println!` → `vlog!` 置き換え（必要に応じて実施）

### 注意事項

- エラーメッセージや重要な警告は`println!`のまま残す
- デバッグ用の詳細ログのみ`vlog!`に置き換える
- `vlog!`は`println!`と完全に同じ構文で使用可能
